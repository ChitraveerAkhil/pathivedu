<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd">
	<include file="changelog-1.0.xml" relativeToChangelogFile="true" />

	<changeSet author="author" id="changelog-3.10">
		<createTable tableName="user">
			<column name="id" type="INT">
				<constraints primaryKey="true" />
			</column>
			<column name="first_name" type="VARCHAR(128)" />
			<column name="last_name" type="VARCHAR(128)" />
			<column name="email" type="VARCHAR(1024)" />
			<column name="phone" type="VARCHAR(15)" />
			<column name="role" type="15" />
			<column name="manage_id" type="INT" />
		</createTable>

		<createTable tableName="user_password">
			<column name="user_id" type="INT">
				<constraints nullable="false" foreignKeyName="fk_user_id"
					references="user(id)" />
			</column>
			<column name="salt" type="VARCHAR(512)" />
			<column name="hashed_password" type="VARCHAR(512)" />
			<column name="salt" type="VARCHAR(512)" />
			<column name="iterator" type="INT" />
		</createTable>

		<createTable tableName="leave_request">
			<column name="id" type="INT">
				<constraints primaryKey="true" />
			</column>
			<column name="user_id" type="INT">
				<constraints nullable="false" foreignKeyName="fk_user_id"
					references="user(id)" />
			</column>
			<column name="leave_type" type="VARCHAR(28)" />
			<column name="status" type="BOOLEAN" />
			<column name="leave_on" type="DATE" />
			<column name="applied_on" type="DATE" />
		</createTable>

		<createTable tableName="overtime_request">
			<column name="id" type="INT">
				<constraints primaryKey="true" />
			</column>
			<column name="user_id" type="INT">
				<constraints nullable="false" foreignKeyName="fk_user_id"
					references="user(id)" />
			</column>
			<column name="status" type="BOOLEAN" />
			<column name="overtime_on" type="DATE" />
			<column name="applied_on" type="DATE" />
		</createTable>

		<createTable tableName="alotted_leaves">
			<column name="user_id" type="INT">
				<constraints nullable="false" foreignKeyName="fk_user_id"
					references="user(id)" />
			</column>
			<column name="casual_leave" type="INT" />
			<column name="sick_leave" type="INT" />
			<column name="planned_leave" type="INT" />
			<column name="religious_leave" type="INT" />
		</createTable>
	</changeSet>

</databaseChangeLog>
